2024-04-15 23:45:30.854 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-15 23:45:31.056 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-15 23:45:31.059 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-15 23:45:31.062 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-15 23:45:31.063 +04:00 [INF] Hosting environment: Development
2024-04-15 23:45:31.064 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-15 23:45:31.653 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-15 23:45:31.884 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 231.7052ms
2024-04-15 23:45:31.898 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-15 23:45:31.903 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 4.7933ms
2024-04-15 23:45:31.921 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-15 23:45:31.952 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 30.5953ms
2024-04-15 23:45:32.048 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-15 23:45:32.199 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 151.5417ms
2024-04-15 23:49:13.265 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-15 23:49:13.393 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-15 23:49:13.395 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-15 23:49:13.398 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-15 23:49:13.398 +04:00 [INF] Hosting environment: Development
2024-04-15 23:49:13.399 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-15 23:49:13.952 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-15 23:49:14.132 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 180.8473ms
2024-04-15 23:49:14.148 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-15 23:49:14.148 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-15 23:49:14.156 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 7.8161ms
2024-04-15 23:49:14.180 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.4145ms
2024-04-15 23:49:14.249 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-15 23:49:14.385 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 135.9365ms
2024-04-15 23:51:58.658 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-15 23:51:58.779 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-15 23:51:58.782 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-15 23:51:58.784 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-15 23:51:58.785 +04:00 [INF] Hosting environment: Development
2024-04-15 23:51:58.786 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-15 23:51:59.343 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-15 23:51:59.512 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 175.4254ms
2024-04-15 23:51:59.527 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-15 23:51:59.527 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-15 23:51:59.535 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 7.0181ms
2024-04-15 23:51:59.560 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 32.4748ms
2024-04-15 23:51:59.771 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-15 23:51:59.882 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 111.0067ms
2024-04-15 23:54:35.333 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-15 23:54:35.455 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-15 23:54:35.458 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-15 23:54:35.462 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-15 23:54:35.464 +04:00 [INF] Hosting environment: Development
2024-04-15 23:54:35.464 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-15 23:54:35.903 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-15 23:54:36.054 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 155.3710ms
2024-04-15 23:54:36.071 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-15 23:54:36.071 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-15 23:54:36.080 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 7.5212ms
2024-04-15 23:54:36.101 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 29.7870ms
2024-04-15 23:54:36.207 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-15 23:54:36.342 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 134.8923ms
2024-04-15 23:58:46.534 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-15 23:58:46.544 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 9.6165ms
2024-04-15 23:58:46.590 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-15 23:58:46.592 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 2.8773ms
2024-04-15 23:58:46.633 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-15 23:58:46.648 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 15.4690ms
2024-04-15 23:58:46.756 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-15 23:58:46.770 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 13.2688ms
2024-04-16 00:25:05.194 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 00:25:05.326 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-16 00:25:05.328 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-16 00:25:05.331 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 00:25:05.332 +04:00 [INF] Hosting environment: Development
2024-04-16 00:25:05.333 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-16 00:25:05.815 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-16 00:25:06.011 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 197.4660ms
2024-04-16 00:25:06.091 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-16 00:25:06.091 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-16 00:25:06.099 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 8.0640ms
2024-04-16 00:25:06.127 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 36.6818ms
2024-04-16 00:25:06.172 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-16 00:25:06.280 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 107.8754ms
2024-04-16 00:25:45.990 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 00:25:46.229 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-16 00:25:46.232 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-16 00:25:46.234 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 00:25:46.235 +04:00 [INF] Hosting environment: Development
2024-04-16 00:25:46.236 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-16 00:25:49.392 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-16 00:25:49.769 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 383.9327ms
2024-04-16 00:25:49.795 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-16 00:25:49.795 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-16 00:25:49.808 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 13.2628ms
2024-04-16 00:25:49.902 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 106.3962ms
2024-04-16 00:25:49.991 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-16 00:25:50.140 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 148.5191ms
2024-04-16 00:26:24.758 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 00:26:25.007 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-16 00:26:25.010 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-16 00:26:25.013 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 00:26:25.015 +04:00 [INF] Hosting environment: Development
2024-04-16 00:26:25.017 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-16 00:26:26.443 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-16 00:26:26.812 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 373.8677ms
2024-04-16 00:26:26.844 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-16 00:26:26.844 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-16 00:26:26.863 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 19.1668ms
2024-04-16 00:26:26.914 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 69.6203ms
2024-04-16 00:26:26.977 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-16 00:26:27.113 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 136.1666ms
2024-04-16 00:26:52.785 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 00:26:52.802 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:26:52.807 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 21.9091ms
2024-04-16 00:26:52.810 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 00:26:52.813 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:26:52.828 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 00:26:52.871 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 00:26:53.893 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'InvoiceFile'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 00:26:54.342 +04:00 [INF] Executed DbCommand (27ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 00:26:54.375 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 00:26:54.825 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 00:26:54.833 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 00:26:54.919 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 00:26:54.944 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandSuccessResponse'.
2024-04-16 00:26:54.959 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API) in 2081.2231ms
2024-04-16 00:26:54.961 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 00:26:54.969 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 200 - application/json;+charset=utf-8 2158.9543ms
2024-04-16 00:26:58.084 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 00:26:58.087 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:26:58.089 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 4.3055ms
2024-04-16 00:26:58.092 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 00:26:58.093 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:26:58.193 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 00:26:58.203 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 00:26:58.298 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 00:26:58.305 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 00:26:58.321 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-04-16 00:26:58.324 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-04-16 00:26:58.332 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 00:26:58.349 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 142.9073ms
2024-04-16 00:26:58.351 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 00:26:58.354 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 261.1057ms
2024-04-16 00:29:49.207 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 00:29:49.442 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-16 00:29:49.444 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-16 00:29:49.446 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 00:29:49.447 +04:00 [INF] Hosting environment: Development
2024-04-16 00:29:49.448 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-16 00:29:51.195 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-16 00:29:51.456 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 265.1531ms
2024-04-16 00:29:51.487 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-16 00:29:51.487 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-16 00:29:51.500 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 12.7859ms
2024-04-16 00:29:51.551 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 64.4453ms
2024-04-16 00:29:51.626 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-16 00:29:51.788 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 162.6948ms
2024-04-16 00:30:00.621 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 00:30:00.630 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:30:00.634 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 13.0767ms
2024-04-16 00:30:00.638 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 00:30:00.643 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:30:00.654 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 00:30:00.683 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 00:30:01.437 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'InvoiceFile'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 00:30:01.864 +04:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 00:30:01.897 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 00:30:02.206 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 00:30:02.216 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 00:30:02.299 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 00:30:02.321 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandSuccessResponse'.
2024-04-16 00:30:02.335 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API) in 1647.2797ms
2024-04-16 00:30:02.339 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 00:30:02.348 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 200 - application/json;+charset=utf-8 1710.1085ms
2024-04-16 00:30:14.089 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 00:30:14.092 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:30:14.094 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 4.9913ms
2024-04-16 00:30:14.101 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 00:30:14.102 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:30:14.170 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 00:30:14.177 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 00:30:14.282 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 00:30:14.289 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 00:30:14.305 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-04-16 00:30:14.308 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-04-16 00:30:14.319 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 00:30:14.337 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 156.5489ms
2024-04-16 00:30:14.340 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 00:30:14.341 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 240.5115ms
2024-04-16 00:30:22.674 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - -
2024-04-16 00:39:36.265 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 00:39:36.571 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-16 00:39:36.573 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-16 00:39:36.576 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 00:39:36.577 +04:00 [INF] Hosting environment: Development
2024-04-16 00:39:36.577 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-16 00:39:37.903 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-16 00:39:38.143 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 243.0102ms
2024-04-16 00:39:39.797 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-16 00:39:39.797 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-16 00:39:39.805 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 8.3559ms
2024-04-16 00:39:39.851 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 54.0363ms
2024-04-16 00:39:39.912 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-16 00:39:40.028 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 116.2753ms
2024-04-16 00:39:44.332 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 00:39:44.339 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:39:44.343 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 11.3329ms
2024-04-16 00:39:44.348 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 00:39:44.351 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:39:44.420 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'name')
   at Serilog.Core.Enrichers.PropertyEnricher..ctor(String name, Object value, Boolean destructureObjects)
   at Serilog.Context.LogContext.PushProperty(String name, Object value, Boolean destructureObjects)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 120
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-16 00:39:44.562 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 500 - text/plain;+charset=utf-8 214.3759ms
2024-04-16 00:40:18.269 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 00:40:18.277 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:40:18.279 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 10.3803ms
2024-04-16 00:40:18.281 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 00:40:18.282 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:40:18.313 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'name')
   at Serilog.Core.Enrichers.PropertyEnricher..ctor(String name, Object value, Boolean destructureObjects)
   at Serilog.Context.LogContext.PushProperty(String name, Object value, Boolean destructureObjects)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 120
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-16 00:40:18.317 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 500 - text/plain;+charset=utf-8 35.6793ms
2024-04-16 00:40:23.634 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 00:40:23.635 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:40:23.636 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 2.5993ms
2024-04-16 00:40:23.640 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 00:40:23.640 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:40:23.674 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'name')
   at Serilog.Core.Enrichers.PropertyEnricher..ctor(String name, Object value, Boolean destructureObjects)
   at Serilog.Context.LogContext.PushProperty(String name, Object value, Boolean destructureObjects)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 120
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-16 00:40:23.680 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 500 - text/plain;+charset=utf-8 40.4455ms
2024-04-16 00:40:29.057 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 00:40:29.060 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:40:29.062 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 5.0761ms
2024-04-16 00:40:29.066 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 00:40:29.067 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:40:29.091 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'name')
   at Serilog.Core.Enrichers.PropertyEnricher..ctor(String name, Object value, Boolean destructureObjects)
   at Serilog.Context.LogContext.PushProperty(String name, Object value, Boolean destructureObjects)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 120
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-16 00:40:29.098 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 500 - text/plain;+charset=utf-8 32.4604ms
2024-04-16 00:40:32.778 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 00:40:32.781 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:40:32.805 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'name')
   at Serilog.Core.Enrichers.PropertyEnricher..ctor(String name, Object value, Boolean destructureObjects)
   at Serilog.Context.LogContext.PushProperty(String name, Object value, Boolean destructureObjects)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 120
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-16 00:40:32.808 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 500 - text/plain;+charset=utf-8 29.8801ms
2024-04-16 00:40:38.301 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 00:40:38.303 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:40:38.304 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 2.7596ms
2024-04-16 00:40:38.307 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 69
2024-04-16 00:40:38.308 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:40:38.333 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'name')
   at Serilog.Core.Enrichers.PropertyEnricher..ctor(String name, Object value, Boolean destructureObjects)
   at Serilog.Context.LogContext.PushProperty(String name, Object value, Boolean destructureObjects)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 120
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-16 00:40:38.337 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 69 - 500 - text/plain;+charset=utf-8 30.1348ms
2024-04-16 00:41:19.634 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 00:41:19.644 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:41:19.645 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 11.8186ms
2024-04-16 00:41:19.649 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 00:41:19.651 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:41:19.673 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'name')
   at Serilog.Core.Enrichers.PropertyEnricher..ctor(String name, Object value, Boolean destructureObjects)
   at Serilog.Context.LogContext.PushProperty(String name, Object value, Boolean destructureObjects)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 120
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-16 00:41:19.681 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 500 - text/plain;+charset=utf-8 31.2310ms
2024-04-16 00:41:23.055 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - -
2024-04-16 00:41:23.057 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:41:23.058 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - - - 204 - - 2.7918ms
2024-04-16 00:41:23.062 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 21
2024-04-16 00:41:23.063 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:41:23.094 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'name')
   at Serilog.Core.Enrichers.PropertyEnricher..ctor(String name, Object value, Boolean destructureObjects)
   at Serilog.Context.LogContext.PushProperty(String name, Object value, Boolean destructureObjects)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 120
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-16 00:41:23.099 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 21 - 500 - text/plain;+charset=utf-8 36.3072ms
2024-04-16 00:41:25.995 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 21
2024-04-16 00:41:25.997 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:41:26.036 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'name')
   at Serilog.Core.Enrichers.PropertyEnricher..ctor(String name, Object value, Boolean destructureObjects)
   at Serilog.Context.LogContext.PushProperty(String name, Object value, Boolean destructureObjects)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 120
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-16 00:41:26.041 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 21 - 500 - text/plain;+charset=utf-8 45.3451ms
2024-04-16 00:41:32.044 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/facebook-login - -
2024-04-16 00:41:32.046 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:41:32.051 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/facebook-login - - - 204 - - 6.8825ms
2024-04-16 00:41:32.055 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/facebook-login application/json 819
2024-04-16 00:41:32.057 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:41:32.081 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'name')
   at Serilog.Core.Enrichers.PropertyEnricher..ctor(String name, Object value, Boolean destructureObjects)
   at Serilog.Context.LogContext.PushProperty(String name, Object value, Boolean destructureObjects)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 120
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-16 00:41:32.087 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/facebook-login application/json 819 - 500 - text/plain;+charset=utf-8 31.3383ms
2024-04-16 00:42:01.369 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 00:42:01.376 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:42:01.379 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 10.2246ms
2024-04-16 00:42:01.383 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 00:42:01.384 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:42:32.823 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'name')
   at Serilog.Core.Enrichers.PropertyEnricher..ctor(String name, Object value, Boolean destructureObjects)
   at Serilog.Context.LogContext.PushProperty(String name, Object value, Boolean destructureObjects)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 120
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-16 00:42:36.906 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 500 - text/plain;+charset=utf-8 35522.5905ms
2024-04-16 00:45:02.971 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 00:45:03.197 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-16 00:45:03.201 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-16 00:45:03.203 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 00:45:03.204 +04:00 [INF] Hosting environment: Development
2024-04-16 00:45:03.204 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-16 00:45:04.657 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-16 00:45:04.896 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 241.6396ms
2024-04-16 00:45:04.935 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-16 00:45:04.935 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-16 00:45:04.947 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 11.3886ms
2024-04-16 00:45:04.989 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 53.5359ms
2024-04-16 00:45:05.063 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-16 00:45:05.186 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 122.2309ms
2024-04-16 00:45:21.357 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/users - -
2024-04-16 00:45:21.364 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:45:21.367 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/users - - - 204 - - 10.0530ms
2024-04-16 00:45:21.370 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/users application/json 139
2024-04-16 00:45:21.373 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:45:23.997 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'name')
   at Serilog.Core.Enrichers.PropertyEnricher..ctor(String name, Object value, Boolean destructureObjects)
   at Serilog.Context.LogContext.PushProperty(String name, Object value, Boolean destructureObjects)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 120
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-16 00:45:24.031 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/users application/json 139 - 500 - text/plain;+charset=utf-8 2660.9403ms
2024-04-16 00:49:18.735 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 00:49:18.954 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-16 00:49:18.957 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-16 00:49:18.960 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 00:49:18.962 +04:00 [INF] Hosting environment: Development
2024-04-16 00:49:18.963 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-16 00:49:20.454 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-16 00:49:20.712 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 261.0529ms
2024-04-16 00:49:20.764 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-16 00:49:20.764 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-16 00:49:20.777 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 11.9011ms
2024-04-16 00:49:20.825 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 60.4204ms
2024-04-16 00:49:20.896 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-16 00:49:21.035 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 139.1813ms
2024-04-16 00:52:16.904 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 00:52:17.023 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-16 00:52:17.027 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-16 00:52:17.030 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 00:52:17.031 +04:00 [INF] Hosting environment: Development
2024-04-16 00:52:17.031 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-16 00:52:19.902 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 00:52:20.155 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-16 00:52:20.157 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-16 00:52:20.161 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 00:52:20.162 +04:00 [INF] Hosting environment: Development
2024-04-16 00:52:20.164 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-16 00:52:21.207 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-16 00:52:21.472 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 271.2019ms
2024-04-16 00:52:21.505 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-16 00:52:21.505 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-16 00:52:21.519 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 13.7837ms
2024-04-16 00:52:21.561 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 55.6386ms
2024-04-16 00:52:21.619 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-16 00:52:21.723 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 104.3806ms
2024-04-16 00:52:41.839 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/users - -
2024-04-16 00:52:41.852 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:52:41.858 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/users - - - 204 - - 19.4978ms
2024-04-16 00:52:41.862 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/users application/json 139
2024-04-16 00:52:41.864 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:52:44.464 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'name')
   at Serilog.Core.Enrichers.PropertyEnricher..ctor(String name, Object value, Boolean destructureObjects)
   at Serilog.Context.LogContext.PushProperty(String name, Object value, Boolean destructureObjects)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 122
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-16 00:52:44.501 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/users application/json 139 - 500 - text/plain;+charset=utf-8 2638.8923ms
2024-04-16 00:53:33.547 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 00:53:33.760 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-16 00:53:33.763 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-16 00:53:33.765 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 00:53:33.766 +04:00 [INF] Hosting environment: Development
2024-04-16 00:53:33.767 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-16 00:53:35.022 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-16 00:53:35.288 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 269.3618ms
2024-04-16 00:53:35.320 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-16 00:53:35.320 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-16 00:53:35.331 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 10.5939ms
2024-04-16 00:53:35.373 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 52.7077ms
2024-04-16 00:53:35.433 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-16 00:53:35.540 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 106.4700ms
2024-04-16 00:53:38.023 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/users - -
2024-04-16 00:53:38.033 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:53:38.037 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/users - - - 204 - - 14.7117ms
2024-04-16 00:53:38.040 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/users application/json 139
2024-04-16 00:53:38.044 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:53:44.043 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.UsersController.Register (ECommerceAPI.API)'
2024-04-16 00:53:44.071 +04:00 [INF] Route matched with {action = "Register", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Register(ECommerceAPI.Application.Features.Commands.AppUsers.Register.RegisterCommandRequest) on controller ECommerceAPI.API.Controllers.UsersController (ECommerceAPI.API).
2024-04-16 00:53:44.931 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'InvoiceFile'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 00:53:45.335 +04:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 00:53:45.366 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 00:53:45.576 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FullName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [RefreshToken], [RefreshTokenEndDate], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17);
2024-04-16 00:53:45.607 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.Register.RegisterCommandResponse'.
2024-04-16 00:53:45.618 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.UsersController.Register (ECommerceAPI.API) in 1539.9053ms
2024-04-16 00:53:45.619 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.UsersController.Register (ECommerceAPI.API)'
2024-04-16 00:53:45.627 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/users application/json 139 - 200 - application/json;+charset=utf-8 7586.3215ms
2024-04-16 00:53:47.919 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/facebook-login - -
2024-04-16 00:53:47.922 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:53:47.925 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/facebook-login - - - 204 - - 5.9675ms
2024-04-16 00:53:47.931 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/facebook-login application/json 819
2024-04-16 00:53:47.934 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:53:47.938 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.FacebookLogin (ECommerceAPI.API)'
2024-04-16 00:53:47.943 +04:00 [INF] Route matched with {action = "FacebookLogin", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] FacebookLogin(ECommerceAPI.Application.Features.Commands.AppUsers.FacebookLogin.FacebookLoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 00:53:47.961 +04:00 [INF] Start processing HTTP request GET https://graph.facebook.com/oauth/access_token?client_id=926948432489692&client_secret=b3a8a5805d70eb667f9060ce168ca20e&grant_type=client_credentials
2024-04-16 00:53:47.965 +04:00 [INF] Sending HTTP request GET https://graph.facebook.com/oauth/access_token?client_id=926948432489692&client_secret=b3a8a5805d70eb667f9060ce168ca20e&grant_type=client_credentials
2024-04-16 00:53:48.311 +04:00 [INF] Received HTTP response headers after 340.8262ms - 200
2024-04-16 00:53:48.314 +04:00 [INF] End processing HTTP request after 354.432ms - 200
2024-04-16 00:53:48.319 +04:00 [INF] Start processing HTTP request GET https://graph.facebook.com/debug_token?input_token=EAANLDgALLNwBOwHBEYSQOJkvJXXeM9UTQZANEEvxSWieQC60ocgUcvpfh1TUZCLqswmJ8e95Gz82y6QVZAufzXzl0hMr6AJkDBpgpt1xd9fZCFDZAOUXCDAFZCgtJYRTRBMLN4Fd6d8LrGhadOTv4EbyU91rYk6w52CBtBk4ZB6LuiO0xsDehvKfkPaA9PIW8VQ4HsISuGOIXRyeeqVYpbadPCZArKui2ot7BQZDZD&access_token=926948432489692%7CD7v6cGVeCRcA5EmnqRGKu3xSR1c
2024-04-16 00:53:48.321 +04:00 [INF] Sending HTTP request GET https://graph.facebook.com/debug_token?input_token=EAANLDgALLNwBOwHBEYSQOJkvJXXeM9UTQZANEEvxSWieQC60ocgUcvpfh1TUZCLqswmJ8e95Gz82y6QVZAufzXzl0hMr6AJkDBpgpt1xd9fZCFDZAOUXCDAFZCgtJYRTRBMLN4Fd6d8LrGhadOTv4EbyU91rYk6w52CBtBk4ZB6LuiO0xsDehvKfkPaA9PIW8VQ4HsISuGOIXRyeeqVYpbadPCZArKui2ot7BQZDZD&access_token=926948432489692%7CD7v6cGVeCRcA5EmnqRGKu3xSR1c
2024-04-16 00:53:48.579 +04:00 [INF] Received HTTP response headers after 256.9606ms - 200
2024-04-16 00:53:48.582 +04:00 [INF] End processing HTTP request after 262.7223ms - 200
2024-04-16 00:53:48.587 +04:00 [INF] Start processing HTTP request GET https://graph.facebook.com/me?fields=email,name&access_token=EAANLDgALLNwBOwHBEYSQOJkvJXXeM9UTQZANEEvxSWieQC60ocgUcvpfh1TUZCLqswmJ8e95Gz82y6QVZAufzXzl0hMr6AJkDBpgpt1xd9fZCFDZAOUXCDAFZCgtJYRTRBMLN4Fd6d8LrGhadOTv4EbyU91rYk6w52CBtBk4ZB6LuiO0xsDehvKfkPaA9PIW8VQ4HsISuGOIXRyeeqVYpbadPCZArKui2ot7BQZDZD
2024-04-16 00:53:48.588 +04:00 [INF] Sending HTTP request GET https://graph.facebook.com/me?fields=email,name&access_token=EAANLDgALLNwBOwHBEYSQOJkvJXXeM9UTQZANEEvxSWieQC60ocgUcvpfh1TUZCLqswmJ8e95Gz82y6QVZAufzXzl0hMr6AJkDBpgpt1xd9fZCFDZAOUXCDAFZCgtJYRTRBMLN4Fd6d8LrGhadOTv4EbyU91rYk6w52CBtBk4ZB6LuiO0xsDehvKfkPaA9PIW8VQ4HsISuGOIXRyeeqVYpbadPCZArKui2ot7BQZDZD
2024-04-16 00:53:48.840 +04:00 [INF] Received HTTP response headers after 249.6729ms - 200
2024-04-16 00:53:48.843 +04:00 [INF] End processing HTTP request after 255.9749ms - 200
2024-04-16 00:53:48.895 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2024-04-16 00:53:48.936 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__userId_0
2024-04-16 00:53:48.950 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__loginProvider_0='?' (Size = 450), @__providerKey_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE [a].[LoginProvider] = @__loginProvider_0 AND [a].[ProviderKey] = @__providerKey_1
2024-04-16 00:53:48.954 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[Id] = @__userId_0
2024-04-16 00:53:49.088 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 00:53:49.094 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 00:53:49.110 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 00:53:49.119 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.FacebookLogin.FacebookLoginCommandResponse'.
2024-04-16 00:53:49.128 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.FacebookLogin (ECommerceAPI.API) in 1181.0537ms
2024-04-16 00:53:49.131 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.FacebookLogin (ECommerceAPI.API)'
2024-04-16 00:53:49.134 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/facebook-login application/json 819 - 200 - application/json;+charset=utf-8 1203.1711ms
2024-04-16 00:54:01.378 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 00:54:01.380 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:54:01.381 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 3.3741ms
2024-04-16 00:54:01.384 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 00:54:01.385 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:54:01.388 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 00:54:01.392 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 00:54:01.414 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 00:54:01.419 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 00:54:01.499 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 00:54:01.507 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 00:54:01.511 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 00:54:01.514 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandSuccessResponse'.
2024-04-16 00:54:01.516 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API) in 120.8029ms
2024-04-16 00:54:01.518 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 00:54:01.520 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 200 - application/json;+charset=utf-8 135.8056ms
2024-04-16 00:54:04.213 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 00:54:04.215 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:54:04.215 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 2.0331ms
2024-04-16 00:54:04.219 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 00:54:04.220 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:54:04.306 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 00:54:04.313 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 00:54:04.377 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 00:54:04.386 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 00:54:04.408 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-04-16 00:54:04.412 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-04-16 00:54:04.423 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 00:54:04.438 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 122.0024ms
2024-04-16 00:54:04.442 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 00:54:04.444 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 225.6366ms
2024-04-16 00:54:21.171 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - -
2024-04-16 00:54:21.172 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:54:21.174 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - - - 204 - - 3.4610ms
2024-04-16 00:54:21.193 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63
2024-04-16 00:54:21.195 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:54:21.196 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 00:54:21.199 +04:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 00:54:21.212 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[RefreshToken] = @__refreshToken_0
2024-04-16 00:54:21.218 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 00:54:21.222 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 00:54:21.228 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 00:54:21.231 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2024-04-16 00:54:21.233 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API) in 31.0405ms
2024-04-16 00:54:21.234 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 00:54:21.236 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63 - 200 - application/json;+charset=utf-8 42.5643ms
2024-04-16 00:54:22.108 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 00:54:22.110 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:54:22.111 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 3.2469ms
2024-04-16 00:54:22.120 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 00:54:22.122 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:54:22.126 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 00:54:22.128 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 00:54:22.134 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 00:54:22.138 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 00:54:22.141 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 00:54:22.144 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 14.4643ms
2024-04-16 00:54:22.147 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 00:54:22.148 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 27.4695ms
2024-04-16 00:54:24.372 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 00:54:24.374 +04:00 [INF] CORS policy execution successful.
2024-04-16 00:54:24.385 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 00:54:24.388 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 00:54:24.396 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 00:54:24.401 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 00:54:24.403 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 00:54:24.406 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 15.335ms
2024-04-16 00:54:24.408 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 00:54:24.409 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 36.6933ms
2024-04-16 00:54:34.055 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 01:04:59.657 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:05:01.614 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 627559.1936ms
2024-04-16 01:05:03.644 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - -
2024-04-16 01:05:18.111 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 01:05:27.221 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-16 01:05:32.152 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-16 01:05:36.408 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 01:05:36.409 +04:00 [INF] Hosting environment: Development
2024-04-16 01:05:36.411 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-16 01:05:36.501 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-16 01:05:36.695 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 194.2707ms
2024-04-16 01:05:36.721 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-16 01:05:36.723 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-16 01:05:36.729 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 7.5649ms
2024-04-16 01:05:36.769 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 45.5433ms
2024-04-16 01:05:36.819 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-16 01:05:36.918 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 99.5419ms
2024-04-16 01:05:38.526 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 01:05:38.537 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:05:38.542 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 15.2307ms
2024-04-16 01:05:38.544 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 01:05:38.547 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:05:54.805 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 01:05:54.832 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 01:05:55.516 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'InvoiceFile'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:05:55.929 +04:00 [INF] Executed DbCommand (26ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:05:55.958 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 01:05:56.247 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:05:56.257 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 01:05:56.344 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 01:05:56.367 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandSuccessResponse'.
2024-04-16 01:05:56.383 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API) in 1545.7655ms
2024-04-16 01:05:56.386 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 01:05:56.396 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 200 - application/json;+charset=utf-8 17852.0185ms
2024-04-16 01:05:56.413 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 01:05:56.415 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:05:56.417 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 4.3473ms
2024-04-16 01:05:56.423 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 01:05:56.426 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:06:30.677 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 01:07:08.058 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 01:07:10.487 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 01:07:11.470 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 01:07:18.124 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-04-16 01:07:18.127 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-04-16 01:07:18.135 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 01:07:18.147 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 7747.091ms
2024-04-16 01:07:18.150 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 01:07:18.151 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 81727.9895ms
2024-04-16 01:07:20.591 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - -
2024-04-16 01:07:20.593 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:07:20.594 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - - - 204 - - 3.5524ms
2024-04-16 01:07:20.617 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63
2024-04-16 01:07:20.618 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:17:21.099 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 01:17:21.344 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-16 01:17:21.347 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-16 01:17:21.349 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 01:17:21.352 +04:00 [INF] Hosting environment: Development
2024-04-16 01:17:21.353 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-16 01:17:21.529 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - -
2024-04-16 01:17:21.610 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:17:21.620 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - - - 204 - - 91.7666ms
2024-04-16 01:17:21.632 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 21
2024-04-16 01:17:21.638 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:17:32.671 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 01:17:32.675 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:17:32.677 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-16 01:17:32.678 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 7.3718ms
2024-04-16 01:17:32.677 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 01:17:32.682 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 01:17:32.684 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:17:32.687 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 01:17:32.717 +04:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 01:17:32.717 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 01:17:32.814 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-04-16 01:17:32.835 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API) in 109.4445ms
2024-04-16 01:17:32.837 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 01:17:32.839 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 21 - 400 - application/json;+charset=utf-8 11207.8385ms
2024-04-16 01:17:32.901 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 224.0136ms
2024-04-16 01:17:32.937 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-16 01:17:32.937 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-16 01:17:32.948 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 11.2627ms
2024-04-16 01:17:32.996 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 59.2630ms
2024-04-16 01:17:33.083 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-16 01:17:33.224 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 141.1950ms
2024-04-16 01:17:33.688 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'InvoiceFile'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 01:17:34.110 +04:00 [INF] Executed DbCommand (34ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:17:34.140 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 01:17:34.456 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API) in 1725.6606ms
2024-04-16 01:17:34.460 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 01:17:34.543 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.UnauthorizedAccessException: User Not found
   at ECommerceAPI.Persistence.Services.AuthService.LoginAsync(String userNameOrEmail, String password, Int32 accessTokenLifeTime) in C:\Codes\MiniECommerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Services\AuthService.cs:line 154
   at ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandHandler.Handle(LoginCommandRequest request, CancellationToken cancellationToken) in C:\Codes\MiniECommerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\AppUsers\Login\LoginCommandHandler.cs:line 27
   at ECommerceAPI.API.Controllers.AuthController.Login(LoginCommandRequest loginCommandRequest) in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 121
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-04-16 01:17:34.735 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 500 - text/plain;+charset=utf-8 2052.9362ms
2024-04-16 01:17:40.229 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 01:17:40.231 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:17:40.232 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 3.3055ms
2024-04-16 01:17:40.236 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 01:17:40.236 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:17:40.239 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 01:17:40.240 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 01:17:40.296 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:17:40.301 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 01:17:40.514 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:17:40.523 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 01:17:40.608 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 01:17:40.627 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandSuccessResponse'.
2024-04-16 01:17:40.638 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API) in 394.9021ms
2024-04-16 01:17:40.641 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 01:17:40.644 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 200 - application/json;+charset=utf-8 408.0664ms
2024-04-16 01:17:42.585 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 01:17:42.587 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:17:42.589 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 3.7435ms
2024-04-16 01:17:42.592 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 01:17:42.593 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:17:42.662 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 01:17:42.668 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 01:17:42.728 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 01:17:42.735 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 01:17:42.750 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-04-16 01:17:42.752 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-04-16 01:17:42.761 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 01:17:42.777 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 105.3282ms
2024-04-16 01:17:42.780 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 01:17:42.781 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 189.1289ms
2024-04-16 01:17:58.358 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - -
2024-04-16 01:17:58.360 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:17:58.361 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - - - 204 - - 3.2941ms
2024-04-16 01:17:58.376 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63
2024-04-16 01:17:58.377 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:17:58.378 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 01:17:58.379 +04:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 01:17:58.393 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[RefreshToken] = @__refreshToken_0
2024-04-16 01:17:58.400 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:17:58.403 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 01:17:58.411 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 01:17:58.416 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2024-04-16 01:17:58.418 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API) in 34.7727ms
2024-04-16 01:17:58.419 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 01:17:58.420 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63 - 200 - application/json;+charset=utf-8 44.3263ms
2024-04-16 01:17:59.343 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 01:17:59.345 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:17:59.347 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 3.4567ms
2024-04-16 01:17:59.354 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 01:17:59.355 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:17:59.359 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 01:17:59.361 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 01:17:59.366 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 01:17:59.369 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 01:17:59.372 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 01:17:59.375 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 12.5083ms
2024-04-16 01:17:59.376 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 01:17:59.377 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 22.9446ms
2024-04-16 01:18:03.330 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 01:18:03.331 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:18:03.335 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 01:18:03.337 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 01:18:03.344 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 01:18:03.348 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 01:18:03.352 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 01:18:03.355 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 15.9431ms
2024-04-16 01:18:03.356 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 01:18:03.358 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 27.8869ms
2024-04-16 01:18:19.903 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - -
2024-04-16 01:18:19.905 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:18:19.907 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - - - 204 - - 3.7966ms
2024-04-16 01:18:19.913 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63
2024-04-16 01:18:19.914 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:18:19.915 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 01:18:19.915 +04:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 01:18:19.920 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[RefreshToken] = @__refreshToken_0
2024-04-16 01:18:19.925 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 01:18:19.927 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 01:18:19.933 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 01:18:19.937 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2024-04-16 01:18:19.938 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API) in 21.5549ms
2024-04-16 01:18:19.941 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 01:18:19.942 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63 - 200 - application/json;+charset=utf-8 28.4859ms
2024-04-16 01:18:20.774 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 01:18:20.775 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:18:20.776 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 2.8457ms
2024-04-16 01:18:20.783 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 01:18:20.784 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:18:20.795 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 01:18:20.797 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 01:18:20.801 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 01:18:20.806 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 01:18:20.809 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 01:18:20.811 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 12.1532ms
2024-04-16 01:18:20.812 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 01:18:20.813 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 30.6054ms
2024-04-16 01:18:23.623 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 01:18:23.625 +04:00 [INF] CORS policy execution successful.
2024-04-16 01:18:23.627 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 01:18:23.629 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 01:18:23.633 +04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 01:18:23.636 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 01:18:23.640 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 01:18:23.645 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 13.5186ms
2024-04-16 01:18:23.646 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 01:18:23.647 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 23.8254ms
2024-04-16 19:30:28.679 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 19:30:29.477 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-16 19:30:29.481 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-16 19:30:29.488 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 19:30:29.495 +04:00 [INF] Hosting environment: Development
2024-04-16 19:30:29.500 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-16 19:30:30.400 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-16 19:30:31.235 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 844.5207ms
2024-04-16 19:30:31.358 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-16 19:30:31.358 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-16 19:30:31.373 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 15.4343ms
2024-04-16 19:30:31.462 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 104.4144ms
2024-04-16 19:30:31.955 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-16 19:30:32.247 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 292.0281ms
2024-04-16 19:33:40.662 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 19:33:41.290 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-16 19:33:41.300 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-16 19:33:41.305 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 19:33:41.307 +04:00 [INF] Hosting environment: Development
2024-04-16 19:33:41.309 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-16 19:33:45.002 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-16 19:33:45.534 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 537.9615ms
2024-04-16 19:33:45.559 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-16 19:33:45.560 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-16 19:33:45.580 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 20.8987ms
2024-04-16 19:33:45.679 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 119.8733ms
2024-04-16 19:33:45.813 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-16 19:33:46.066 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 252.9957ms
2024-04-16 19:34:44.141 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 19:34:44.174 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:34:44.185 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 43.5734ms
2024-04-16 19:34:44.198 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 19:34:44.207 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:34:44.261 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 19:34:44.355 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 19:34:46.395 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'InvoiceFile'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 19:34:47.323 +04:00 [INF] Executed DbCommand (54ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 19:34:47.385 +04:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 19:34:48.144 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 19:34:48.166 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 19:34:48.388 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 19:34:48.439 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandSuccessResponse'.
2024-04-16 19:34:48.486 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API) in 4114.6289ms
2024-04-16 19:34:48.495 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 19:34:48.528 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 200 - application/json;+charset=utf-8 4331.1311ms
2024-04-16 19:34:48.598 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:34:48.604 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:34:48.608 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 10.2053ms
2024-04-16 19:34:48.619 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:34:48.623 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:34:48.839 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:34:48.860 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 19:34:49.122 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 19:34:49.392 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 525.4528ms
2024-04-16 19:34:49.400 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:34:49.460 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Exception of type 'System.Exception' was thrown.
   at ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequestHandler.Handle(GetAllProductQueryRequest request, CancellationToken cancellationToken) in C:\Codes\MiniECommerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Queries\Product\GetAllProduct\GetAllProductQueryRequestHandler.cs:line 22
   at ECommerceAPI.API.Controllers.ProductsController.Get(GetAllProductQueryRequest getAllProductQueryRequest) in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\ProductsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 119
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-16 19:34:49.574 +04:00 [ERR] Exception of type 'System.Exception' was thrown.
2024-04-16 19:34:49.589 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 500 - application/json 969.9198ms
2024-04-16 19:35:09.121 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - -
2024-04-16 19:35:09.127 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:35:09.131 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - - - 204 - - 10.3359ms
2024-04-16 19:35:09.155 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63
2024-04-16 19:35:09.157 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:35:09.164 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:35:09.173 +04:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 19:35:09.221 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[RefreshToken] = @__refreshToken_0
2024-04-16 19:35:09.427 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API) in 246.8501ms
2024-04-16 19:35:09.435 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:35:09.582 +04:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerceAPI.Application.Exceptions.NotFoundUserException: Username or password incorrect
   at ECommerceAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in C:\Codes\MiniECommerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Services\AuthService.cs:line 166
   at ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in C:\Codes\MiniECommerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\AppUsers\RefreshTokenLogin\RefreshTokenLoginCommandHandler.cs:line 23
   at ECommerceAPI.API.Controllers.AuthController.RefreshToken(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\AuthController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 119
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-16 19:35:09.813 +04:00 [ERR] Username or password incorrect
2024-04-16 19:35:09.818 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63 - 500 - application/json 663.6732ms
2024-04-16 19:35:09.958 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 21
2024-04-16 19:35:09.961 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:35:09.965 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:35:09.969 +04:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 19:35:10.002 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-04-16 19:35:10.031 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API) in 55.7382ms
2024-04-16 19:35:10.037 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:35:10.040 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 21 - 400 - application/json;+charset=utf-8 82.6471ms
2024-04-16 19:35:18.825 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 19:35:18.829 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:35:18.833 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 7.5607ms
2024-04-16 19:35:18.838 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 19:35:18.841 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:35:18.843 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 19:35:18.848 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 19:35:18.860 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 19:35:18.872 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 19:35:19.011 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 19:35:19.025 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 19:35:19.043 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 19:35:19.054 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandSuccessResponse'.
2024-04-16 19:35:19.057 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API) in 203.0392ms
2024-04-16 19:35:19.061 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 19:35:19.066 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 200 - application/json;+charset=utf-8 227.5135ms
2024-04-16 19:35:19.101 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:35:19.105 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:35:19.108 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 6.8621ms
2024-04-16 19:35:19.128 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:35:19.132 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:35:19.143 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:35:19.146 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 19:35:19.163 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 19:35:19.321 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 165.0895ms
2024-04-16 19:35:19.327 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:35:19.391 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Exception of type 'System.Exception' was thrown.
   at ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequestHandler.Handle(GetAllProductQueryRequest request, CancellationToken cancellationToken) in C:\Codes\MiniECommerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Queries\Product\GetAllProduct\GetAllProductQueryRequestHandler.cs:line 22
   at ECommerceAPI.API.Controllers.ProductsController.Get(GetAllProductQueryRequest getAllProductQueryRequest) in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\ProductsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 119
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-16 19:35:19.410 +04:00 [ERR] Exception of type 'System.Exception' was thrown.
2024-04-16 19:35:19.414 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 500 - application/json 286.2611ms
2024-04-16 19:35:21.198 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:35:21.201 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:35:21.207 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:35:21.210 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 19:35:21.222 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 19:35:21.360 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 144.562ms
2024-04-16 19:35:21.367 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:35:21.423 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Exception of type 'System.Exception' was thrown.
   at ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequestHandler.Handle(GetAllProductQueryRequest request, CancellationToken cancellationToken) in C:\Codes\MiniECommerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Queries\Product\GetAllProduct\GetAllProductQueryRequestHandler.cs:line 22
   at ECommerceAPI.API.Controllers.ProductsController.Get(GetAllProductQueryRequest getAllProductQueryRequest) in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\ProductsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 119
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-16 19:35:21.444 +04:00 [ERR] Exception of type 'System.Exception' was thrown.
2024-04-16 19:35:21.446 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 500 - application/json 248.2963ms
2024-04-16 19:35:23.334 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:35:23.337 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:35:23.340 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:35:23.345 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 19:35:23.352 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 19:35:23.502 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 153.1334ms
2024-04-16 19:35:23.509 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:35:23.566 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Exception of type 'System.Exception' was thrown.
   at ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequestHandler.Handle(GetAllProductQueryRequest request, CancellationToken cancellationToken) in C:\Codes\MiniECommerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Queries\Product\GetAllProduct\GetAllProductQueryRequestHandler.cs:line 22
   at ECommerceAPI.API.Controllers.ProductsController.Get(GetAllProductQueryRequest getAllProductQueryRequest) in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\ProductsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 119
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-16 19:35:23.588 +04:00 [ERR] Exception of type 'System.Exception' was thrown.
2024-04-16 19:35:23.593 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 500 - application/json 258.7005ms
2024-04-16 19:35:25.408 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:35:25.412 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:35:25.414 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 5.6059ms
2024-04-16 19:35:25.428 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:35:25.430 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:35:25.435 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:35:25.438 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 19:35:25.448 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 19:35:25.695 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 251.2031ms
2024-04-16 19:35:25.696 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:35:25.751 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.Exception: Exception of type 'System.Exception' was thrown.
   at ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequestHandler.Handle(GetAllProductQueryRequest request, CancellationToken cancellationToken) in C:\Codes\MiniECommerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Queries\Product\GetAllProduct\GetAllProductQueryRequestHandler.cs:line 22
   at ECommerceAPI.API.Controllers.ProductsController.Get(GetAllProductQueryRequest getAllProductQueryRequest) in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\ProductsController.cs:line 29
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 119
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-16 19:35:25.765 +04:00 [ERR] Exception of type 'System.Exception' was thrown.
2024-04-16 19:35:25.769 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 500 - application/json 341.1490ms
2024-04-16 19:35:42.154 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - -
2024-04-16 19:35:42.157 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:35:42.160 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - - - 204 - - 6.5401ms
2024-04-16 19:35:42.182 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63
2024-04-16 19:35:42.185 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:35:42.189 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:35:42.197 +04:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 19:35:42.208 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[RefreshToken] = @__refreshToken_0
2024-04-16 19:35:42.366 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API) in 165.7433ms
2024-04-16 19:35:42.373 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:35:42.492 +04:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerceAPI.Application.Exceptions.NotFoundUserException: Username or password incorrect
   at ECommerceAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in C:\Codes\MiniECommerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Services\AuthService.cs:line 166
   at ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in C:\Codes\MiniECommerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\AppUsers\RefreshTokenLogin\RefreshTokenLoginCommandHandler.cs:line 23
   at ECommerceAPI.API.Controllers.AuthController.RefreshToken(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\AuthController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 119
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-16 19:35:42.514 +04:00 [ERR] Username or password incorrect
2024-04-16 19:35:42.520 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63 - 500 - application/json 338.0265ms
2024-04-16 19:35:43.022 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 21
2024-04-16 19:35:43.026 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:35:43.029 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:35:43.033 +04:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 19:35:43.039 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-04-16 19:35:43.045 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API) in 6.5633ms
2024-04-16 19:35:43.052 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:35:43.055 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 21 - 400 - application/json;+charset=utf-8 32.7727ms
2024-04-16 19:37:27.640 +04:00 [INF] User profile is available. Using 'C:\Users\Nijat\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2024-04-16 19:37:27.823 +04:00 [INF] Now listening on: https://localhost:7135
2024-04-16 19:37:27.828 +04:00 [INF] Now listening on: http://localhost:5167
2024-04-16 19:37:27.833 +04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-04-16 19:37:27.837 +04:00 [INF] Hosting environment: Development
2024-04-16 19:37:27.841 +04:00 [INF] Content root path: C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API
2024-04-16 19:37:28.262 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/index.html - -
2024-04-16 19:37:28.559 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/index.html - - - 200 - text/html;charset=utf-8 301.8687ms
2024-04-16 19:37:28.637 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_vs/browserLink - -
2024-04-16 19:37:28.647 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - -
2024-04-16 19:37:28.659 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_framework/aspnetcore-browser-refresh.js - - - 200 13768 application/javascript;+charset=utf-8 9.0043ms
2024-04-16 19:37:28.693 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 56.8876ms
2024-04-16 19:37:28.873 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - -
2024-04-16 19:37:29.053 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 179.8368ms
2024-04-16 19:37:46.693 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 19:37:46.708 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:37:46.719 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 25.5912ms
2024-04-16 19:37:46.725 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 19:37:46.732 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:37:46.756 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 19:37:46.798 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 19:37:47.776 +04:00 [WRN] No store type was specified for the decimal property 'Price' on entity type 'InvoiceFile'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2024-04-16 19:37:48.330 +04:00 [INF] Executed DbCommand (31ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 19:37:48.380 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 19:37:48.757 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 19:37:48.778 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 19:37:48.912 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 19:37:48.946 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandSuccessResponse'.
2024-04-16 19:37:48.970 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API) in 2156.2086ms
2024-04-16 19:37:48.978 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 19:37:48.995 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 200 - application/json;+charset=utf-8 2269.6643ms
2024-04-16 19:37:50.502 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:37:50.507 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:37:50.510 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 8.7417ms
2024-04-16 19:37:50.519 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:37:50.524 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:37:50.638 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:37:50.658 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 19:37:50.852 +04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 19:37:50.871 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 19:37:50.906 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-04-16 19:37:50.912 +04:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-04-16 19:37:50.930 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 19:37:50.948 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 281.3235ms
2024-04-16 19:37:50.952 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:37:50.958 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 438.4762ms
2024-04-16 19:37:55.085 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:37:55.088 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:37:55.097 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:37:55.102 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 19:37:55.135 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 19:37:55.143 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 19:37:55.150 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 19:37:55.159 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 49.81ms
2024-04-16 19:37:55.164 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:37:55.169 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 84.4984ms
2024-04-16 19:38:03.457 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - -
2024-04-16 19:38:03.459 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:38:03.459 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:03.461 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:03.463 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - - - 204 - - 6.0023ms
2024-04-16 19:38:03.466 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 6.8868ms
2024-04-16 19:38:03.476 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63
2024-04-16 19:38:03.477 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:38:03.480 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:03.483 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:03.486 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:38:03.496 +04:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenInvalidLifetimeException: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateJWS(String token, TokenValidationParameters validationParameters, BaseConfiguration currentConfiguration, SecurityToken& signatureValidatedToken, ExceptionDispatchInfo& exceptionThrown)
--- End of stack trace from previous location ---
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, JwtSecurityToken outerToken, TokenValidationParameters validationParameters, SecurityToken& signatureValidatedToken)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-04-16 19:38:03.498 +04:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 19:38:03.523 +04:00 [INF] Admin was not authenticated. Failure message: IDX10230: Lifetime validation failed. Delegate returned false, securitytoken: '[PII of type 'System.IdentityModel.Tokens.Jwt.JwtSecurityToken' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
2024-04-16 19:38:03.534 +04:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-04-16 19:38:03.546 +04:00 [INF] AuthenticationScheme: Admin was challenged.
2024-04-16 19:38:03.551 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 401 0 - 73.7212ms
2024-04-16 19:38:03.560 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[RefreshToken] = @__refreshToken_0
2024-04-16 19:38:03.564 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63
2024-04-16 19:38:03.572 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:03.574 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:38:03.577 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 19:38:03.579 +04:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 19:38:03.590 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 19:38:03.609 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[RefreshToken] = @__refreshToken_0
2024-04-16 19:38:03.613 +04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 19:38:03.622 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 19:38:03.629 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2024-04-16 19:38:03.634 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 19:38:03.638 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API) in 109.1804ms
2024-04-16 19:38:03.647 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 19:38:03.651 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:38:03.663 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63 - 200 - application/json;+charset=utf-8 186.8223ms
2024-04-16 19:38:03.676 +04:00 [ERR] An exception occurred in the database while saving changes for context type 'ECommerceAPI.Persistence.Contexts.ECommerceAPIDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateConcurrencyException: The database operation was expected to affect 1 row(s), but actually affected 0 row(s); data may have been modified or deleted since entities were loaded. See http://go.microsoft.com/fwlink/?LinkId=527962 for information on understanding and handling optimistic concurrency exceptions.
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ThrowAggregateUpdateConcurrencyExceptionAsync(RelationalDataReader reader, Int32 commandIndex, Int32 expectedRowsAffected, Int32 rowsAffected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-04-16 19:38:03.692 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2024-04-16 19:38:03.698 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API) in 103.709ms
2024-04-16 19:38:03.703 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:38:03.707 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63 - 200 - application/json;+charset=utf-8 143.0355ms
2024-04-16 19:38:07.484 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:38:07.489 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:07.493 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:38:07.498 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 19:38:07.512 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 19:38:07.519 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 19:38:07.521 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 19:38:07.528 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 23.68ms
2024-04-16 19:38:07.535 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:38:07.538 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 53.7360ms
2024-04-16 19:38:09.658 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:38:09.661 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:09.665 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 6.2995ms
2024-04-16 19:38:09.675 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:38:09.678 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:09.681 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:38:09.683 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 19:38:09.694 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 19:38:09.703 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 19:38:09.708 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 19:38:09.716 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 25.1213ms
2024-04-16 19:38:09.719 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:38:09.723 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 47.9073ms
2024-04-16 19:38:12.504 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:38:12.508 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:12.511 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:38:12.516 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 19:38:12.526 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 19:38:12.535 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 19:38:12.539 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 19:38:12.546 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 23.56ms
2024-04-16 19:38:12.550 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:38:12.555 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 50.8781ms
2024-04-16 19:38:17.440 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:38:17.443 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:17.445 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 5.2412ms
2024-04-16 19:38:17.456 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:38:17.461 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:17.465 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:38:17.471 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 19:38:17.482 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 19:38:17.490 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 19:38:17.495 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 19:38:17.506 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 27.6867ms
2024-04-16 19:38:17.512 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:38:17.517 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 60.5841ms
2024-04-16 19:38:26.829 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - -
2024-04-16 19:38:26.831 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:26.835 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - - - 204 - - 6.3001ms
2024-04-16 19:38:26.851 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63
2024-04-16 19:38:26.855 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:26.857 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:38:26.859 +04:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 19:38:26.890 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[RefreshToken] = @__refreshToken_0
2024-04-16 19:38:26.900 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API) in 38.2766ms
2024-04-16 19:38:26.906 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:38:26.912 +04:00 [ERR] An unhandled exception has occurred while executing the request.
ECommerceAPI.Application.Exceptions.NotFoundUserException: Username or password incorrect
   at ECommerceAPI.Persistence.Services.AuthService.RefreshTokenLoginAsync(String refreshToken) in C:\Codes\MiniECommerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Services\AuthService.cs:line 166
   at ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandHandler.Handle(RefreshTokenLoginCommandRequest request, CancellationToken cancellationToken) in C:\Codes\MiniECommerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\AppUsers\RefreshTokenLogin\RefreshTokenLoginCommandHandler.cs:line 23
   at ECommerceAPI.API.Controllers.AuthController.RefreshToken(RefreshTokenLoginCommandRequest refreshTokenLoginCommandRequest) in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\AuthController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 119
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-16 19:38:26.948 +04:00 [ERR] Username or password incorrect
2024-04-16 19:38:26.955 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63 - 500 - application/json 103.3698ms
2024-04-16 19:38:27.838 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 21
2024-04-16 19:38:27.841 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:27.844 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:38:27.848 +04:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 19:38:27.867 +04:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.Collections.Generic.KeyValuePair`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.IEnumerable`1[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]][]'.
2024-04-16 19:38:27.891 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API) in 35.8516ms
2024-04-16 19:38:27.897 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:38:27.902 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 21 - 400 - application/json;+charset=utf-8 64.3633ms
2024-04-16 19:38:36.321 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 19:38:36.324 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:36.327 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 6.9508ms
2024-04-16 19:38:36.333 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 19:38:36.335 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:36.338 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 19:38:36.343 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 19:38:36.356 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 19:38:36.366 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 19:38:36.547 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API) in 195.5139ms
2024-04-16 19:38:36.552 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 19:38:36.559 +04:00 [ERR] An unhandled exception has occurred while executing the request.
System.UnauthorizedAccessException: User Not found
   at ECommerceAPI.Persistence.Services.AuthService.LoginAsync(String userNameOrEmail, String password, Int32 accessTokenLifeTime) in C:\Codes\MiniECommerce\ECommerceAPI\Infrastructure\ECommerceAPI.Persistence\Services\AuthService.cs:line 154
   at ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandHandler.Handle(LoginCommandRequest request, CancellationToken cancellationToken) in C:\Codes\MiniECommerce\ECommerceAPI\Core\ECommerceAPI.Application\Features\Commands\AppUsers\Login\LoginCommandHandler.cs:line 27
   at ECommerceAPI.API.Controllers.AuthController.Login(LoginCommandRequest loginCommandRequest) in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Controllers\AuthController.cs:line 25
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at ECommerceAPI.API.Program.<>c.<<Main>b__0_5>d.MoveNext() in C:\Codes\MiniECommerce\ECommerceAPI\Presentation\ECommerceAPI.API\Program.cs:line 119
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Serilog.AspNetCore.RequestLoggingMiddleware.Invoke(HttpContext httpContext)
   at Microsoft.AspNetCore.Diagnostics.ExceptionHandlerMiddlewareImpl.<Invoke>g__Awaited|8_0(ExceptionHandlerMiddlewareImpl middleware, HttpContext context, Task task)
2024-04-16 19:38:36.581 +04:00 [ERR] User Not found
2024-04-16 19:38:36.585 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 500 - application/json 252.6317ms
2024-04-16 19:38:46.922 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/login - -
2024-04-16 19:38:46.926 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:46.930 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/login - - - 204 - - 8.4354ms
2024-04-16 19:38:46.935 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/login application/json 70
2024-04-16 19:38:46.938 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:46.941 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 19:38:46.947 +04:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 19:38:46.953 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 19:38:46.963 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 19:38:47.102 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 19:38:47.113 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 19:38:47.123 +04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 19:38:47.132 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.Login.LoginCommandSuccessResponse'.
2024-04-16 19:38:47.137 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API) in 186.6086ms
2024-04-16 19:38:47.141 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.Login (ECommerceAPI.API)'
2024-04-16 19:38:47.146 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/login application/json 70 - 200 - application/json;+charset=utf-8 210.8913ms
2024-04-16 19:38:47.200 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:38:47.204 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:47.208 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 7.5099ms
2024-04-16 19:38:47.215 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:38:47.218 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:38:47.222 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:38:47.226 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 19:38:47.237 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 19:38:47.245 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 19:38:47.252 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 19:38:47.260 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 26.0456ms
2024-04-16 19:38:47.263 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:38:47.266 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 51.2520ms
2024-04-16 19:39:04.728 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - -
2024-04-16 19:39:04.731 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:39:04.734 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/auth/RefreshToken - - - 204 - - 5.6025ms
2024-04-16 19:39:04.749 +04:00 [INF] Request starting HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63
2024-04-16 19:39:04.754 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:39:04.758 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:39:04.762 +04:00 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandRequest) on controller ECommerceAPI.API.Controllers.AuthController (ECommerceAPI.API).
2024-04-16 19:39:04.774 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__refreshToken_0='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[RefreshToken] = @__refreshToken_0
2024-04-16 19:39:04.784 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2024-04-16 19:39:04.797 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FullName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenEndDate], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2024-04-16 19:39:04.813 +04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTimeOffset), @p7='?' (Size = 256), @p8='?' (Size = 256), @p9='?' (Size = 4000), @p10='?' (Size = 4000), @p11='?' (DbType = Boolean), @p12='?' (Size = 4000), @p13='?' (DbType = DateTime2), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FullName] = @p4, [LockoutEnabled] = @p5, [LockoutEnd] = @p6, [NormalizedEmail] = @p7, [NormalizedUserName] = @p8, [PasswordHash] = @p9, [PhoneNumber] = @p10, [PhoneNumberConfirmed] = @p11, [RefreshToken] = @p12, [RefreshTokenEndDate] = @p13, [SecurityStamp] = @p14, [TwoFactorEnabled] = @p15, [UserName] = @p16
OUTPUT 1
WHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;
2024-04-16 19:39:04.821 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Commands.AppUsers.RefreshTokenLogin.RefreshTokenLoginCommandResponse'.
2024-04-16 19:39:04.827 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API) in 56.6861ms
2024-04-16 19:39:04.834 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.AuthController.RefreshToken (ECommerceAPI.API)'
2024-04-16 19:39:04.838 +04:00 [INF] Request finished HTTP/2 POST https://localhost:7135/api/auth/RefreshToken application/json 63 - 200 - application/json;+charset=utf-8 89.3669ms
2024-04-16 19:39:05.521 +04:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:39:05.523 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:39:05.526 +04:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7135/api/products?page=0&size=5 - - - 204 - - 5.3898ms
2024-04-16 19:39:05.553 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:39:05.556 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:39:05.559 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:39:05.563 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 19:39:05.574 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 19:39:05.581 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 19:39:05.587 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 19:39:05.596 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 25.2995ms
2024-04-16 19:39:05.602 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:39:05.608 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 54.9223ms
2024-04-16 19:39:09.768 +04:00 [INF] Request starting HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - -
2024-04-16 19:39:09.772 +04:00 [INF] CORS policy execution successful.
2024-04-16 19:39:09.775 +04:00 [INF] Executing endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:39:09.779 +04:00 [INF] Route matched with {action = "Get", controller = "Products"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Get(ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryRequest) on controller ECommerceAPI.API.Controllers.ProductsController (ECommerceAPI.API).
2024-04-16 19:39:09.788 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
2024-04-16 19:39:09.814 +04:00 [INF] Executing OkObjectResult, writing value of type 'ECommerceAPI.Application.Features.Queries.Product.GetAllProduct.GetAllProductQueryResponse'.
2024-04-16 19:39:09.820 +04:00 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[Id], [p].[Name], [p].[Stock], [p].[Price], [p].[CreatedDate], [p].[UpdatedDate]
FROM [Products] AS [p]
ORDER BY (SELECT 1)
OFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY
2024-04-16 19:39:09.827 +04:00 [INF] Executed action ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API) in 43.2682ms
2024-04-16 19:39:09.838 +04:00 [INF] Executed endpoint 'ECommerceAPI.API.Controllers.ProductsController.Get (ECommerceAPI.API)'
2024-04-16 19:39:09.842 +04:00 [INF] Request finished HTTP/2 GET https://localhost:7135/api/products?page=0&size=5 - - - 200 - application/json;+charset=utf-8 74.0268ms
